{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Dell\\\\WebstormProjects\\\\fronend_hack\\\\src\\\\Page\\\\HederPredPa.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useRef, useState } from \"react\";\nimport { FaSignOutAlt, FaFileAlt, FaChevronDown, FaChevronUp, FaBell } from \"react-icons/fa\";\nimport { FiAlignJustify } from 'react-icons/fi';\nimport { Protocol } from './Protocol';\nimport logo from \"./TNS_Energo_logo.png\";\nimport './HederPredPa.css';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport function HederPredPA({\n  onLogout\n}) {\n  _s();\n  const API_BASE_URL = 'https://your-api-endpoint.com/api';\n  const [notifications, setNotifications] = useState([]);\n  const [activeForm, setActiveForm] = useState(null);\n  const [expandedProtocols, setExpandedProtocols] = useState(false);\n  const [selectedProtocol, setSelectedProtocol] = useState(null);\n  const [showNotifications, setShowNotifications] = useState(false);\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const notificationsRef = useRef(null);\n\n  // Загрузка уведомлений\n  const fetchNotifications = async () => {\n    setIsLoading(true);\n    try {\n      const response = await fetch(`${API_BASE_URL}/notifications`, {\n        headers: {\n          'Authorization': `Bearer ${localStorage.getItem('token')}`\n        }\n      });\n      if (!response.ok) throw new Error('Ошибка загрузки уведомлений');\n      const data = await response.json();\n      setNotifications(data);\n    } catch (err) {\n      setError(err.message);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  // Отметка уведомлений как прочитанных\n  const markAsRead = async notificationIds => {\n    try {\n      await fetch(`${API_BASE_URL}/notifications/mark-read`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${localStorage.getItem('token')}`\n        },\n        body: JSON.stringify({\n          notificationIds\n        })\n      });\n      fetchNotifications();\n    } catch (err) {\n      console.error('Ошибка отметки как прочитано:', err);\n    }\n  };\n  useEffect(() => {\n    fetchNotifications();\n    const interval = setInterval(fetchNotifications, 60000);\n    return () => clearInterval(interval);\n  }, []);\n  const handleNotificationClick = notification => {\n    if (notification.type === 'protocol') {\n      setActiveForm('protocol');\n      setSelectedProtocol(notification);\n      setShowNotifications(false);\n    } else {\n      if (!notification.read) {\n        markAsRead([notification.id]);\n      }\n      // Дополнительная логика для других типов уведомлений\n    }\n  };\n  const toggleNotifications = () => {\n    const newShowState = !showNotifications;\n    setShowNotifications(newShowState);\n    setExpandedProtocols(false);\n    if (newShowState && notifications.some(n => !n.read)) {\n      const unreadIds = notifications.filter(n => !n.read).map(n => n.id);\n      if (unreadIds.length > 0) markAsRead(unreadIds);\n    }\n  };\n  useEffect(() => {\n    const handleClickOutside = event => {\n      if (notificationsRef.current && !notificationsRef.current.contains(event.target)) {\n        if (!event.target.closest('.notification-btn')) {\n          setShowNotifications(false);\n          setExpandedProtocols(false);\n        }\n      }\n    };\n    document.addEventListener('mousedown', handleClickOutside);\n    return () => document.removeEventListener('mousedown', handleClickOutside);\n  }, [showNotifications]);\n  const unreadCount = notifications.filter(n => !n.read).length;\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"header\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"header-left\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"notification-btn\",\n          onClick: toggleNotifications,\n          \"aria-label\": \"\\u0423\\u0432\\u0435\\u0434\\u043E\\u043C\\u043B\\u0435\\u043D\\u0438\\u044F\",\n          \"aria-expanded\": showNotifications,\n          children: [/*#__PURE__*/_jsxDEV(FiAlignJustify, {\n            size: 20\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 113,\n            columnNumber: 25\n          }, this), unreadCount > 0 && /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"notification-badge\",\n            children: unreadCount\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 115,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"logo-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: logo,\n          alt: \"\\u041B\\u043E\\u0433\\u043E\\u0442\\u0438\\u043F \\u0422\\u041D\\u0421 \\u042D\\u043D\\u0435\\u0440\\u0433\\u043E\",\n          className: \"logo\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"user-role\",\n          children: \"\\u041F\\u0440\\u0435\\u0434\\u0441\\u0435\\u0434\\u0430\\u0442\\u0435\\u043B\\u044C\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"header-right\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"logout-btn\",\n          onClick: onLogout,\n          \"aria-label\": \"\\u0412\\u044B\\u0445\\u043E\\u0434\",\n          children: [/*#__PURE__*/_jsxDEV(FaSignOutAlt, {\n            size: 20\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 131,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"logout-text\",\n            children: \"\\u0412\\u044B\\u0439\\u0442\\u0438\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 132,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 17\n      }, this), showNotifications && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"notification-dropdown\",\n        ref: notificationsRef,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"dropdown-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            children: \"\\u0423\\u0432\\u0435\\u0434\\u043E\\u043C\\u043B\\u0435\\u043D\\u0438\\u044F\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 139,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"unread-count\",\n            children: [unreadCount, \" \\u043D\\u043E\\u0432\\u044B\\u0445\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 140,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 25\n        }, this), isLoading ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"loading-notifications\",\n          children: \"\\u0417\\u0430\\u0433\\u0440\\u0443\\u0437\\u043A\\u0430...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 29\n        }, this) : error ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"error-message\",\n          children: error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 29\n        }, this) : notifications.length > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"notifications-list\",\n          children: notifications.map(notification => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `notification-item ${notification.read ? 'read' : 'unread'}`,\n            onClick: () => handleNotificationClick(notification),\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"notification-icon\",\n              children: [notification.type === 'protocol' && /*#__PURE__*/_jsxDEV(FaFileAlt, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 156,\n                columnNumber: 82\n              }, this), notification.type === 'vote' && /*#__PURE__*/_jsxDEV(FaBell, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 157,\n                columnNumber: 78\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 155,\n              columnNumber: 41\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"notification-content\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"notification-text\",\n                children: notification.message\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 160,\n                columnNumber: 45\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"notification-date\",\n                children: new Date(notification.createdAt).toLocaleString('ru-RU', {\n                  day: 'numeric',\n                  month: 'short',\n                  hour: '2-digit',\n                  minute: '2-digit'\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 161,\n                columnNumber: 45\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 159,\n              columnNumber: 41\n            }, this)]\n          }, notification.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 150,\n            columnNumber: 37\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 29\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"no-notifications\",\n          children: \"\\u041D\\u043E\\u0432\\u044B\\u0445 \\u0443\\u0432\\u0435\\u0434\\u043E\\u043C\\u043B\\u0435\\u043D\\u0438\\u0439 \\u043D\\u0435\\u0442\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 174,\n          columnNumber: 29\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"pred-content-area\",\n      children: activeForm === 'protocol' && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"content-section\",\n        children: /*#__PURE__*/_jsxDEV(Protocol, {\n          protocol: selectedProtocol,\n          onClose: () => {\n            setActiveForm(null);\n            setSelectedProtocol(null);\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n}\n_s(HederPredPA, \"tdGUy5XOC8boxNGcwx8nk+Qv3yE=\");\n_c = HederPredPA;\nvar _c;\n$RefreshReg$(_c, \"HederPredPA\");","map":{"version":3,"names":["React","useEffect","useRef","useState","FaSignOutAlt","FaFileAlt","FaChevronDown","FaChevronUp","FaBell","FiAlignJustify","Protocol","logo","jsxDEV","_jsxDEV","Fragment","_Fragment","HederPredPA","onLogout","_s","API_BASE_URL","notifications","setNotifications","activeForm","setActiveForm","expandedProtocols","setExpandedProtocols","selectedProtocol","setSelectedProtocol","showNotifications","setShowNotifications","isLoading","setIsLoading","error","setError","notificationsRef","fetchNotifications","response","fetch","headers","localStorage","getItem","ok","Error","data","json","err","message","markAsRead","notificationIds","method","body","JSON","stringify","console","interval","setInterval","clearInterval","handleNotificationClick","notification","type","read","id","toggleNotifications","newShowState","some","n","unreadIds","filter","map","length","handleClickOutside","event","current","contains","target","closest","document","addEventListener","removeEventListener","unreadCount","children","className","onClick","size","fileName","_jsxFileName","lineNumber","columnNumber","src","alt","ref","Date","createdAt","toLocaleString","day","month","hour","minute","protocol","onClose","_c","$RefreshReg$"],"sources":["C:/Users/Dell/WebstormProjects/fronend_hack/src/Page/HederPredPa.js"],"sourcesContent":["import React, { useEffect, useRef, useState } from \"react\";\r\nimport { FaSignOutAlt, FaFileAlt, FaChevronDown, FaChevronUp, FaBell } from \"react-icons/fa\";\r\nimport { FiAlignJustify } from 'react-icons/fi';\r\nimport { Protocol } from './Protocol';\r\nimport logo from \"./TNS_Energo_logo.png\";\r\nimport './HederPredPa.css';\r\n\r\nexport function HederPredPA({ onLogout }) {\r\n    const API_BASE_URL = 'https://your-api-endpoint.com/api';\r\n    const [notifications, setNotifications] = useState([]);\r\n    const [activeForm, setActiveForm] = useState(null);\r\n    const [expandedProtocols, setExpandedProtocols] = useState(false);\r\n    const [selectedProtocol, setSelectedProtocol] = useState(null);\r\n    const [showNotifications, setShowNotifications] = useState(false);\r\n    const [isLoading, setIsLoading] = useState(false);\r\n    const [error, setError] = useState(null);\r\n    const notificationsRef = useRef(null);\r\n\r\n    // Загрузка уведомлений\r\n    const fetchNotifications = async () => {\r\n        setIsLoading(true);\r\n        try {\r\n            const response = await fetch(`${API_BASE_URL}/notifications`, {\r\n                headers: {\r\n                    'Authorization': `Bearer ${localStorage.getItem('token')}`\r\n                }\r\n            });\r\n\r\n            if (!response.ok) throw new Error('Ошибка загрузки уведомлений');\r\n\r\n            const data = await response.json();\r\n            setNotifications(data);\r\n        } catch (err) {\r\n            setError(err.message);\r\n        } finally {\r\n            setIsLoading(false);\r\n        }\r\n    };\r\n\r\n    // Отметка уведомлений как прочитанных\r\n    const markAsRead = async (notificationIds) => {\r\n        try {\r\n            await fetch(`${API_BASE_URL}/notifications/mark-read`, {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    'Authorization': `Bearer ${localStorage.getItem('token')}`\r\n                },\r\n                body: JSON.stringify({ notificationIds })\r\n            });\r\n            fetchNotifications();\r\n        } catch (err) {\r\n            console.error('Ошибка отметки как прочитано:', err);\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        fetchNotifications();\r\n        const interval = setInterval(fetchNotifications, 60000);\r\n        return () => clearInterval(interval);\r\n    }, []);\r\n\r\n    const handleNotificationClick = (notification) => {\r\n        if (notification.type === 'protocol') {\r\n            setActiveForm('protocol');\r\n            setSelectedProtocol(notification);\r\n            setShowNotifications(false);\r\n        } else {\r\n            if (!notification.read) {\r\n                markAsRead([notification.id]);\r\n            }\r\n            // Дополнительная логика для других типов уведомлений\r\n        }\r\n    };\r\n\r\n    const toggleNotifications = () => {\r\n        const newShowState = !showNotifications;\r\n        setShowNotifications(newShowState);\r\n        setExpandedProtocols(false);\r\n\r\n        if (newShowState && notifications.some(n => !n.read)) {\r\n            const unreadIds = notifications.filter(n => !n.read).map(n => n.id);\r\n            if (unreadIds.length > 0) markAsRead(unreadIds);\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        const handleClickOutside = (event) => {\r\n            if (notificationsRef.current && !notificationsRef.current.contains(event.target)) {\r\n                if (!event.target.closest('.notification-btn')) {\r\n                    setShowNotifications(false);\r\n                    setExpandedProtocols(false);\r\n                }\r\n            }\r\n        };\r\n\r\n        document.addEventListener('mousedown', handleClickOutside);\r\n        return () => document.removeEventListener('mousedown', handleClickOutside);\r\n    }, [showNotifications]);\r\n\r\n    const unreadCount = notifications.filter(n => !n.read).length;\r\n\r\n    return (\r\n        <>\r\n            <header className=\"header\">\r\n                <div className=\"header-left\">\r\n                    <button\r\n                        className=\"notification-btn\"\r\n                        onClick={toggleNotifications}\r\n                        aria-label=\"Уведомления\"\r\n                        aria-expanded={showNotifications}\r\n                    >\r\n                        <FiAlignJustify size={20} />\r\n                        {unreadCount > 0 && (\r\n                            <span className=\"notification-badge\">{unreadCount}</span>\r\n                        )}\r\n                    </button>\r\n                </div>\r\n\r\n                <div className=\"logo-container\">\r\n                    <img src={logo} alt=\"Логотип ТНС Энерго\" className=\"logo\" />\r\n                    <div className=\"user-role\">Председатель</div>\r\n                </div>\r\n\r\n                <div className=\"header-right\">\r\n                    <button\r\n                        className=\"logout-btn\"\r\n                        onClick={onLogout}\r\n                        aria-label=\"Выход\"\r\n                    >\r\n                        <FaSignOutAlt size={20} />\r\n                        <span className=\"logout-text\">Выйти</span>\r\n                    </button>\r\n                </div>\r\n\r\n                {showNotifications && (\r\n                    <div className=\"notification-dropdown\" ref={notificationsRef}>\r\n                        <div className=\"dropdown-header\">\r\n                            <h4>Уведомления</h4>\r\n                            <span className=\"unread-count\">{unreadCount} новых</span>\r\n                        </div>\r\n\r\n                        {isLoading ? (\r\n                            <div className=\"loading-notifications\">Загрузка...</div>\r\n                        ) : error ? (\r\n                            <div className=\"error-message\">{error}</div>\r\n                        ) : notifications.length > 0 ? (\r\n                            <div className=\"notifications-list\">\r\n                                {notifications.map(notification => (\r\n                                    <div\r\n                                        key={notification.id}\r\n                                        className={`notification-item ${notification.read ? 'read' : 'unread'}`}\r\n                                        onClick={() => handleNotificationClick(notification)}\r\n                                    >\r\n                                        <div className=\"notification-icon\">\r\n                                            {notification.type === 'protocol' && <FaFileAlt />}\r\n                                            {notification.type === 'vote' && <FaBell />}\r\n                                        </div>\r\n                                        <div className=\"notification-content\">\r\n                                            <div className=\"notification-text\">{notification.message}</div>\r\n                                            <div className=\"notification-date\">\r\n                                                {new Date(notification.createdAt).toLocaleString('ru-RU', {\r\n                                                    day: 'numeric',\r\n                                                    month: 'short',\r\n                                                    hour: '2-digit',\r\n                                                    minute: '2-digit'\r\n                                                })}\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                ))}\r\n                            </div>\r\n                        ) : (\r\n                            <div className=\"no-notifications\">Новых уведомлений нет</div>\r\n                        )}\r\n                    </div>\r\n                )}\r\n            </header>\r\n\r\n            <div className=\"pred-content-area\">\r\n                {activeForm === 'protocol' && (\r\n                    <div className=\"content-section\">\r\n                        <Protocol\r\n                            protocol={selectedProtocol}\r\n                            onClose={() => {\r\n                                setActiveForm(null);\r\n                                setSelectedProtocol(null);\r\n                            }}\r\n                        />\r\n                    </div>\r\n                )}\r\n            </div>\r\n        </>\r\n    );\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}